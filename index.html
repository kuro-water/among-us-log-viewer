<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Among Us „Ç≤„Éº„É†Â±•Ê≠¥„Éì„É•„Éº„ÉØ„Éº</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="style.css" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    </head>
    <body>
        <header>
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col">
                        <h1>üéÆ Among Us „Ç≤„Éº„É†Â±•Ê≠¥„Éì„É•„Éº„ÉØ„Éº</h1>
                        <p class="mb-0" style="color: rgba(255, 255, 255, 0.9); font-size: 0.95rem">
                            „Ç≤„Éº„É†Áµ±Ë®àÂàÜÊûê & „Éì„Ç∏„É•„Ç¢„É´„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ
                        </p>
                    </div>
                </div>
            </div>
        </header>

        <div class="container-fluid">
            <!-- „Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Çª„ÇØ„Ç∑„Éß„É≥ -->
            <div class="card" id="uploadCard">
                <div class="card-header"><span class="icon">üìÅ</span> „Ç≤„Éº„É†Â±•Ê≠¥„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø</div>
                <div class="card-body">
                    <div class="upload-zone" id="uploadZone">
                        <div class="icon-size">üì§</div>
                        <p class="mb-2"><strong>game_history.jsonl„Çí„Åì„Åì„Å´„Éâ„É©„ÉÉ„Ç∞&„Éâ„É≠„ÉÉ„Éó</strong></p>
                        <p class="text-muted">„Åæ„Åü„ÅØ‰∏ã„ÅÆ„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÈÅ∏Êäû</p>
                        <input type="file" id="fileInput" accept=".jsonl" style="display: none" />
                        <button class="btn btn-primary mt-3" onclick="document.getElementById('fileInput').click()">
                            „Éï„Ç°„Ç§„É´„ÇíÈÅ∏Êäû
                        </button>
                    </div>
                    <div id="uploadStatus" class="mt-3"></div>
                </div>
            </div>

            <!-- „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„ÉâÔºà„Éá„Éï„Ç©„É´„Éà„ÅØÈùûË°®Á§∫Ôºâ -->
            <div id="dashboard" style="display: none">
                <!-- „Çµ„Éû„É™„Éº„Ç´„Éº„Éâ -->
                <div class="row mb-4">
                    <div class="col-md-6 col-lg-3">
                        <div class="stat-box">
                            <div class="stat-label">Á∑è„Ç≤„Éº„É†Êï∞</div>
                            <div class="stat-value" id="totalGames">0</div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="stat-box">
                            <div class="stat-label">„Éó„É¨„Ç§„É§„ÉºÊï∞</div>
                            <div class="stat-value" id="totalPlayers">0</div>
                        </div>
                    </div>
                </div>

                <!-- „Éï„Ç£„É´„Çø„É™„É≥„Ç∞ -->
                <div class="card mb-4">
                    <div class="card-header">üîç „Éï„Ç£„É´„Çø„É™„É≥„Ç∞</div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label">ÈñãÂßãÊó•ÊôÇ</label>
                                <input type="datetime-local" id="filterStartDate" class="form-control" />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">ÁµÇ‰∫ÜÊó•ÊôÇ</label>
                                <input type="datetime-local" id="filterEndDate" class="form-control" />
                            </div>
                            <div class="col-md-12" style="display: flex; align-items: flex-end; gap: 10px">
                                <select id="quickFilterSelect" class="form-select" style="flex: 1">
                                    <option value="">Áõ¥ËøëÊôÇÈñì„ÇíÈÅ∏Êäû...</option>
                                    <option value="3">Áõ¥Ëøë3ÊôÇÈñì</option>
                                    <option value="6">Áõ¥Ëøë6ÊôÇÈñì</option>
                                    <option value="12">Áõ¥Ëøë12ÊôÇÈñì</option>
                                    <option value="24">Áõ¥Ëøë24ÊôÇÈñì</option>
                                    <option value="48">Áõ¥Ëøë2Êó•</option>
                                    <option value="72">Áõ¥Ëøë3Êó•</option>
                                    <option value="96">Áõ¥Ëøë4Êó•</option>
                                    <option value="120">Áõ¥Ëøë5Êó•</option>
                                    <option value="144">Áõ¥Ëøë6Êó•</option>
                                    <option value="168">Áõ¥Ëøë7Êó•</option>
                                    <option value="720">Áõ¥Ëøë30Êó•</option>
                                </select>
                                <button class="btn btn-primary" onclick="applyFilters()" style="flex: 1">
                                    „Éï„Ç£„É´„Çø„Éº„ÇíÈÅ©Áî®
                                </button>
                                <button class="btn btn-secondary" onclick="clearFilters()" style="flex: 1">
                                    „É™„Çª„ÉÉ„Éà
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- „Çø„Éñ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ -->
                <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button
                            class="nav-link active"
                            id="overview-tab"
                            data-bs-toggle="tab"
                            data-bs-target="#overview"
                            role="tab"
                        >
                            üìä Ê¶ÇË¶Å
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button
                            class="nav-link"
                            id="players-tab"
                            data-bs-toggle="tab"
                            data-bs-target="#players"
                            role="tab"
                        >
                            üéÆ „Éó„É¨„Ç§„É§„ÉºÁµ±Ë®à
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button
                            class="nav-link"
                            id="timeline-tab"
                            data-bs-toggle="tab"
                            data-bs-target="#timeline"
                            role="tab"
                        >
                            üìà ÊôÇÁ≥ªÂàó
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button
                            class="nav-link"
                            id="ranking-tab"
                            data-bs-toggle="tab"
                            data-bs-target="#ranking"
                            role="tab"
                        >
                            üèÜ „É©„É≥„Ç≠„É≥„Ç∞
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="roles-tab" data-bs-toggle="tab" data-bs-target="#roles" role="tab">
                            üéØ „É≠„Éº„É´ÂàÜÊûê
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="games-tab" data-bs-toggle="tab" data-bs-target="#games" role="tab">
                            üìã „Ç≤„Éº„É†‰∏ÄË¶ß
                        </button>
                    </li>
                </ul>

                <div class="tab-content mt-4">
                    <!-- Ê¶ÇË¶Å„Çø„Éñ -->
                    <div class="tab-pane fade show active" id="overview" role="tabpanel">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-header">„Éó„É¨„Ç§„É§„ÉºÂà•ÂãùÁéá</div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="winRateChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-header">„Éû„ÉÉ„ÉóÂà•Áµ±Ë®à</div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="mapStatsChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- „Éó„É¨„Ç§„É§„ÉºÁµ±Ë®à„Çø„Éñ -->
                    <div class="tab-pane fade" id="players" role="tabpanel">
                        <div class="card">
                            <div class="card-header">„Éó„É¨„Ç§„É§„ÉºÂà•Áµ±Ë®à</div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover" id="playerStatsTable">
                                        <thead>
                                            <!-- „Éò„ÉÉ„ÉÄ„Éº„ÅØscript.js„ÅßÂãïÁöÑÁîüÊàê -->
                                        </thead>
                                        <tbody id="playerStatsBody"></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÊôÇÁ≥ªÂàó„Çø„Éñ -->
                    <div class="tab-pane fade" id="timeline" role="tabpanel">
                        <div class="card">
                            <div class="card-header">ÊôÇÁ≥ªÂàó„Ç≤„Éº„É†ÁµêÊûú</div>
                            <div class="card-body">
                                <div class="chart-container">
                                    <canvas id="timelineChart"></canvas>
                                </div>
                                <div id="timelineInfo" class="mt-3"></div>
                            </div>
                        </div>
                    </div>

                    <!-- „É©„É≥„Ç≠„É≥„Ç∞„Çø„Éñ -->
                    <div class="tab-pane fade" id="ranking" role="tabpanel">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-header">üèÜ ÂãùÂà©Êï∞„É©„É≥„Ç≠„É≥„Ç∞</div>
                                    <div class="card-body">
                                        <ol id="winsRanking" style="list-style: none; padding: 0"></ol>
                                        <div class="chart-container" style="max-width: 300px; margin: 2rem auto">
                                            <canvas id="winsRankingChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-header">‚≠ê ÂãùÁéá„É©„É≥„Ç≠„É≥„Ç∞Ôºà3„Ç≤„Éº„É†‰ª•‰∏äÔºâ</div>
                                    <div class="card-body">
                                        <ol id="winRateRanking" style="list-style: none; padding: 0"></ol>
                                        <div class="chart-container" style="max-width: 300px; margin: 2rem auto">
                                            <canvas id="winRateRankingChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- „É≠„Éº„É´ÂàÜÊûê„Çø„Éñ -->
                    <div class="tab-pane fade" id="roles" role="tabpanel">
                        <div class="row">
                            <div class="col-lg-8">
                                <div class="card">
                                    <div class="card-header">„É≠„Éº„É´Âà•ÂãùÁéáÂàÜÊûê</div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="roleAnalysisChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="card">
                                    <div class="card-header">„É≠„Éº„É´Áµ±Ë®à</div>
                                    <div class="card-body" id="roleStatsDetails"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- „Ç≤„Éº„É†‰∏ÄË¶ß„Çø„Éñ -->
                    <div class="tab-pane fade" id="games" role="tabpanel">
                        <div class="card">
                            <div class="card-header">„Ç≤„Éº„É†‰∏ÄË¶ß</div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover table-sm" id="gamesTable">
                                        <thead>
                                            <tr>
                                                <th>„Éû„ÉÉ„Éó</th>
                                                <th>„Éó„É¨„Ç§„É§„ÉºÊï∞</th>
                                                <th>ÂãùËÄÖ„ÉÅ„Éº„É†</th>
                                                <th>ÂãùÂà©„É°„É≥„Éê„Éº</th>
                                                <th>„Ç≤„Éº„É†ÊôÇÈñì</th>
                                                <th>ÂèÇÂä†„Éó„É¨„Ç§„É§„Éº</th>
                                                <th>ÂΩπËÅ∑ÊÉÖÂ†±</th>
                                                <th>ÊôÇÂàª</th>
                                            </tr>
                                        </thead>
                                        <tbody id="gamesBody"></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Among Us „Ç≤„Éº„É†Â±•Ê≠¥„Éì„É•„Éº„ÉØ„Éº v1.0 | „Ç™„Éï„É©„Ç§„É≥„ÅßÂÆåÂÖ®„Å´Âãï‰Ωú„Åó„Åæ„Åô</p>
        </div>

        <!-- „É≠„Éº„Éá„Ç£„É≥„Ç∞„Çπ„Éî„Éä„Éº -->
        <div class="spinner-overlay" id="spinner">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Ë™≠„ÅøËæº„Åø‰∏≠...</span>
            </div>
        </div>

        <!-- „Éà„Éº„Çπ„ÉàÈÄöÁü• -->
        <div class="toast-container" id="toastContainer"></div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="script.js"></script>
    </body>
</html>
